"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),n=require("react"),t=require("ramda");!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('*, *:after, *:before {\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: transparent;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  min-height: 100vh;\n  min-width: 100vw;\n  background-color: #fafafa;\n  color: rgb(36, 39, 41);\n  font-family: \'Avenir\';\n}\n\niframe {\n  display: none;\n}\n\n.wrapper {\n  max-width: 500px;\n  margin: 27px auto;\n}\n\n input, textarea, select {\n  border-radius: 7px;\n  font-size: 17px;\n  font-weight: 400;\n  padding: 9px 12px;\n  background: white;\n  border: 1px solid rgb(187, 192, 196);\n  transition: border .2s ease;\n } \n   \ninput[type="checkbox"], input[type="radio"] {\n  width: 0;\n  -webkit-appearance: none;\n  appearance: none;\n  display: none;\n}\n\nlabel {\n  cursor: pointer;\n}\n\n.form-field {\n  position: relative;\n}\n\n.form-item {\n  padding: 17px 0;\n}\n\n.item-label {\n  display: flex;\n  gap: 7px;\n}\n\n.form-item input {\n  font-size: inherit;\n  font-weight: inherit;\n  margin-bottom: 7px;\n}\n\n.form-item label {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.form-item label:focus {\n  outline: 1px solid red;\n  border: 1px solid red;\n}\n\n/* move label underneath input */\n.form-field-text .field-label,\n.form-field-textarea .field-label {\n  order: 2;\n}\n.form-field-text .item-label {\n  gap: 0;\n}\n\n/* the text label for each form item */\nspan.field-label {\n}\n\n/* the label for a group of options */\n/* move label to right of input */\n.form-item label.form-field-group {\n  flex-direction: row;\n  align-items: center;\n  justify-content: left;\n  gap: 17px;\n}\n\n.form-field-radio .group-option-label {\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-size: 15px;\n}\n\n.group-option-label {\n  font-size: 17px;\n}\n\n.field-error-message {\n  position: absolute;\n  bottom: 2px;\n  right: 0;\n  color: red;\n}\n\n.show-password-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 51px;\n  bottom: 0;\n  right: 5px;\n  height: 29px;\n  background-color: white;\n  cursor: pointer;\n}\n\n.form-field-checkbox label {\n  display: flex;\n  justify-content: left;\n  flex-direction: row;\n}\n\n.form-field-checkbox .form-item label {\n  display: flex;\n  align-items: center;\n}\n\n/* input by name */\n/* TODO toLower */\nselect[name=favoriteColor] {\n  width: 100px;\n}\n\n.radio-group {\n  display: flex;\n  align-items: center;\n  gap: 40px;\n}\n\n.form-field.form-field-checkboxes {\n  border: 1px solid gray;\n  border-radius: 7px;\n  padding: 0 17px;\n}\n\n.radio-group label {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  gap: 7px;\n}\n\n.radio-group label span {\n  text-align: center;\n}\n\n.replaced-input-checkbox, \n.replaced-input-checkboxes, \n.replaced-input-radio {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 27px;\n  width: 27px;\n  border: 2px solid black;\n  border-radius: 3px;\n  background: white;\n  cursor: pointer;\n  transition: border .2s ease;\n}\n\n.replaced-input-radio {\n  border-radius: 50%;\n  height: 23px;\n  width: 23px;\n}\n\n.replaced-input-checkbox.checked, \n.replaced-input-checkboxes.checked, \n.replaced-input-radio.checked {\n  position: relative;\n  border: 2px solid green;\n}\n\n.replaced-input-checkbox.checked:focus, \n.replaced-input-checkboxes.checked:focus, \n.replaced-input-radio.checked:focus {\n  border: 2pb solid blue;\n}\n\n.replaced-input-radio.checked:before {\n  position: absolute;\n  content: \'\';\n  top: 7px;\n  left: 7px;\n  height: 5px;\n  width: 5px;\n  border-radius: 50%;\n  background-color: green;\n}\n\n.replaced-input-checkbox > span, \n.replaced-input-checkboxes > span, \n.replaced-input-radio > span {\n  position: relative;\n  top: 2px;\n  left: 1px;\n  opacity: 0;\n  transition: .2s opacity ease;\n}\n\n.replaced-input-checkbox.checked > span,\n.replaced-input-checkboxes.checked > span {\n  opacity: 1;\n}\n\n.replaced-input-radio .group-option-label {\n  text-transform: uppercase;\n}\n\ninput:focus,\ntextarea:focus, \nselect:focus,\nbutton[type="submit"]:focus,\n.replaced-input-checkbox:focus, \n.replaced-input-checkboxes:focus, \n.replaced-input-radio:focus {\n  outline: 2px solid blue;\n  border: 2pb solid blue;\n}\n\nbutton[type="submit"] {\n  display: inline-flex;\n  align-items: center;\n  color: white;\n  background-color: #1877F1;\n  border: 2px solid #1877F1;\n  font-size: 13px;\n  font-weight: 600;\n  padding: 6px 16px;\n  margin-top: 17px;\n  border-radius: 3px;\n  -webkit-box-shadow: inset 0 0 0 1px #1877F1;\n  box-shadow: inset 0 0 0 1px #1877F1;\n}\n\n.max-len {\n  position: absolute;\n  bottom: 18px;\n  right: 0;\n}\n\n.max-len.exceeded {\n  color: red;\n}\n\n.form-field .invalid {\n  border: 1px solid red;\n}');var r=function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},r.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var i=t.map(t.prop("name")),a=function(e,n){var r=i(e);return t.zipObj(r,n)},o=function(){setTimeout((function(){document.querySelectorAll("label[class]:not([style])");var e=document.querySelector(".invalid:not(.no-invalid)");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),200)},s=n.createContext({}),l=function(){return n.useContext(s)},c=function(n){return e.jsx(s.Provider,{value:r({},n),children:n.children})},u=function(n){var t=n.color,r=n.size;return t=t||"green",r=r||"17",e.jsx("svg",{height:r,viewBox:"0 0 13 13",width:r,children:e.jsx("path",{fill:t,d:"m2.98388672 5.98193359 1.99316406 1.85986329 3.79589844-3.56103516.7109375.76171875-4.50048828 4.22119141-2.71044922-2.52001954z"})})},p=function(e){return"string"==typeof e?[e,e]:[e.label,e.value]},d=function(n,t,r){return function(i){var a=p(i),o=a[0],s=a[1],l="radio"===t.inputType,c=l?r===s:r.includes(s),d=l?"radio":"checkbox",f="replaced-input-".concat(t.inputType," ")+(c?"checked":"");return e.jsxs("label",{className:"form-field-group",children:[e.jsx("span",{className:f,tabIndex:0,children:e.jsx("span",{children:!l&&e.jsx(u,{color:c?"green":"white"})})}),e.jsx("span",{className:"group-option-label",children:o}),e.jsx("input",{checked:c,type:d,value:s,onChange:n})]},s)}},f=function(n){return n.map((function(n){var t=p(n),r=t[0],i=t[1];return e.jsx("option",{value:i,children:r},i)}))},x=function(){var e=l(),n=e.errorMessage,r=e.clearError,i=e.field,a=e.setValues,o=e.value,s=i.inputType,c=i.name,u=i.placeholder;return{className:n?"invalid":"",disabled:!1,name:c,onChange:function(e){return a(t.update(i.i,e.target.value))},onFocus:r(i.i),placeholder:u||"",type:s,value:o}},m=function(n){var t=n.color;return t=t||"#1e1e1e",e.jsx("svg",{width:"30",height:"30",children:e.jsxs("g",{children:[e.jsx("rect",{height:"29.8975",opacity:"0",width:"29.8828",x:"0",y:"0"}),e.jsx("path",{d:"M14.9414 29.8975C23.1152 29.8975 29.8828 23.1299 29.8828 14.9561C29.8828 6.79688 23.1006 0.0146484 14.9268 0.0146484C6.76758 0.0146484 0 6.79688 0 14.9561C0 23.1299 6.78223 29.8975 14.9414 29.8975Z",fill:"#ffffff"}),e.jsx("path",{d:"M14.9414 21.1523C9.18457 21.1523 5.06836 16.4355 5.06836 14.9707C5.06836 13.4912 9.14062 8.78906 14.9414 8.78906C20.7422 8.78906 24.7998 13.4912 24.7998 14.9707C24.7998 16.4355 20.7568 21.1523 14.9414 21.1523ZM14.9414 19.0137C17.1826 19.0137 18.999 17.168 18.999 14.9707C18.999 12.7148 17.1826 10.9277 14.9414 10.9277C12.6855 10.9277 10.8691 12.7148 10.8838 14.9707C10.8838 17.168 12.6855 19.0137 14.9414 19.0137ZM14.9561 16.7578C13.9893 16.7578 13.1543 15.9082 13.1543 14.9707C13.1543 14.0186 13.9893 13.1836 14.9561 13.1836C15.9082 13.1836 16.7285 14.0186 16.7285 14.9707C16.7285 15.9082 15.9082 16.7578 14.9561 16.7578Z",fill:t})]})})},h=function(n){var t=n.color;return e.jsx("svg",{width:"30",height:"30",children:e.jsxs("g",{children:[e.jsx("path",{d:"M14.9268 21.1377C20.7422 21.1377 24.7852 16.4209 24.7852 14.9561C24.7852 13.4766 20.7275 8.75977 14.9268 8.75977C9.12598 8.75977 5.05371 13.4766 5.05371 14.9561C5.05371 16.4209 9.16992 21.1377 14.9268 21.1377ZM14.9268 18.999C12.6709 18.999 10.8691 17.1533 10.8691 14.9561C10.8545 12.6855 12.6709 10.8984 14.9268 10.8984C17.168 10.8984 18.9844 12.6855 18.9844 14.9561C18.9844 17.1533 17.168 18.999 14.9268 18.999Z",fill:t}),e.jsx("path",{d:"M20.8154 23.2178C21.4893 23.877 22.5732 23.8916 23.2178 23.2178C23.9062 22.5439 23.8916 21.5039 23.2178 20.8301L9.03809 6.65039C8.36426 5.97656 7.29492 5.97656 6.63574 6.65039C5.96191 7.30957 5.96191 8.39355 6.63574 9.05273Z",fill:t}),e.jsx("path",{d:"M21.5479 22.5C21.7969 22.749 22.2363 22.749 22.4854 22.5C22.749 22.2217 22.749 21.8262 22.4854 21.5625L8.32031 7.38281C8.05664 7.11914 7.63184 7.11914 7.36816 7.38281C7.10449 7.63184 7.11914 8.07129 7.36816 8.32031Z",fill:t})]})})},b=function(){var t=n.useState("password"),i=t[0],a=t[1],o=x();return e.jsxs(e.Fragment,{children:[e.jsx("input",r({},o,{type:i})),e.jsxs("div",{className:"show-password-button",onClick:function(e){e.preventDefault(),a((function(e){return"password"===e?"text":"password"}))},children:["password"===i&&e.jsx(m,{}),"password"!==i&&e.jsx(h,{})]})]})},g=function(){var n=x();return e.jsx("textarea",r({},n,{rows:5}))},v=function(){var n=x();return e.jsx("input",r({},n))},y=function(){var n=l().field.inputType;return"password"===n?e.jsx(b,{}):"textarea"===n?e.jsx(g,{}):e.jsx(v,{})},j=t.cond([[t.equals("text"),t.always(y)],[t.equals("textarea"),t.always(y)],[t.equals("password"),t.always(y)],[t.equals("select"),t.always((function(){var n=l(),r=n.field,i=n.setValues,a=n.value,o=r.options;return e.jsx("select",{name:r.name,onChange:function(e){i(t.update(r.i,e.target.value))},value:a,children:f(o)})}))],[t.equals("checkbox"),t.always((function(){var n=l(),r=n.field,i=n.setValues,a=n.value,o="replaced-input-".concat(r.inputType," ")+(a?"checked":""),s="form-input-".concat(r.inputType);return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:o,tabIndex:0,children:e.jsx("span",{children:e.jsx(u,{color:a?"green":"white"})})}),e.jsx("input",{name:r.name,className:s,type:"checkbox",value:r.name,checked:a,onChange:function(){i(t.update(r.i,!a))}})]})}))],[t.equals("checkboxes"),t.always((function(){var n=l(),r=n.field,i=n.setValues,a=n.value,o=r.options;return e.jsx(e.Fragment,{children:o.map(d((function(e){var n=function(e,n){return t.ifElse(t.includes(e),t.without([e]),t.append(e))(n)}(e.target.value,a);i(t.update(r.i,n))}),r,a))})}))],[t.equals("radio"),t.always((function(){var n=l(),r=n.field,i=n.setValues,a=n.value,o=r.options;return e.jsx(e.Fragment,{children:o.map(d((function(e){i(t.update(r.i,e.target.value))}),r,a))})}))],[t.T,t.always(y)]]),w=t.complement(t.isNil),C=t.split(/(?=[A-Z])/g),k=t.pipe((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),C,t.join(" ")),S=t.pipe(t.prop("name"),k),E=t.ifElse(t.propSatisfies(w,"label"),t.prop("label"),S),M=function(){var n=l().field,t=E(n),r=j(n.inputType);return e.jsxs("label",{className:"item-label",children:[e.jsx("span",{className:"field-label",children:t}),e.jsx(r,{})]})},N=function(){var n=l().errorMessage;return t.isEmpty(n)?null:e.jsx("p",{className:"field-error-message",children:n})},T=function(){var e=l(),n=e.field,t=e.value;return n.maxLen&&"string"==typeof t?n.maxLen-t.length:1/0},q=function(){var n=T(),t="max-len"+(T()<0?" exceeded":"");return n>20?null:e.jsx("span",{className:t,children:n})},z=function(){var n=l(),t=n.errorMessage,r=n.field;return e.jsxs(e.Fragment,{children:[e.jsx(N,{}),r.maxLen&&!t&&e.jsx(q,{})]})},L=n.memo((function(n){var t,i,a=(t=n.field,i=t.name.toLowerCase(),"form-field form-field-".concat(t.inputType," form-field-").concat(i));return e.jsx("div",{className:a,children:e.jsxs(c,r({},n,{children:[e.jsx("div",{className:"form-item",children:e.jsx(M,{})}),e.jsx(z,{})]}))},n.field.name)}),(function(e,n){return e.value===n.value&&e.errorMessage===n.errorMessage})),V=function(n){var t=function(n){var t=n.clearError,r=n.errorMessages,i=n.fields,a=n.setValues,o=n.values;return i.map((function(n,i){return e.jsx(L,{clearError:t,errorMessage:r[i],field:n,setValues:a,value:o[i]},n.name)}))}(n);return e.jsx(e.Fragment,{children:t})},Z=function(n){var t=n.isSubmitButtonHidden,r=n.onSubmit,i=n.submitButtonLabel;return t?null:e.jsx("button",{type:"submit",onClick:r,children:i||"Submit"})},F=t.complement(t.isEmpty),A=t.any(F),B=function(i){var s=i.fields,l=i.initialErrorMessages,c=i.initialValuesState,u=i.isSubmitButtonHidden,p=i.submitButtonLabel,d=n.useState(c),f=d[0],x=d[1],m=n.useState(l),h=m[0],b=m[1];n.useEffect((function(){x(c)}),[c]),n.useEffect((function(){if(i.onChange){var e=a(i.fields,f);i.onChange(e)}}),[f]);var g={clearError:function(e){return function(){b(t.update(e,""))}},errorMessages:h,fields:s,setValues:x,values:f};return e.jsxs(e.Fragment,{children:[e.jsx(V,r({},g)),e.jsx(Z,{isSubmitButtonHidden:u,onSubmit:function(){var e=function(e,n){return e.map((function(e,t){return e.validation?e.validation(n[t])?"":e.errorMessage||"Error":""}))}(s,f);if(A(e))return b(e),void setTimeout(o,0);var n=a(s,f);i.onSubmit&&i.onSubmit(n)},submitButtonLabel:p})]})},O=t.cond([[t.equals("checkbox"),t.always(!1)],[t.equals("checkboxes"),t.always([])],[t.includes(t.__,["password","radio","select","text","textarea"]),t.always("")],[t.T,t.always("")]]),_=t.ifElse(t.pipe(t.prop("initialValue"),t.isNil),t.pipe(t.prop("inputType"),O),t.prop("initialValue")),P=t.map(_),$=t.pipe((function(e){return e.map((function(e){var n=e.inputType||"text";return r(r({},e),{inputType:n})}))}),(function(e){return e.map((function(e,n){return r(r({},e),{i:n})}))})),H=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,I=t.complement(t.isEmpty),D=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{10,}$/,R=Object.freeze({__proto__:null,isEmail:function(e){return H.test(e)},isRequired:I,isStrongPassword:function(e){return D.test(e)},maxLen:function(e){return function(n){return n.length<=e}},minLen:function(e){return function(n){return n.length>=e}}});exports.default=function(n){var t=n.fields,i=function(e){return"react-form ".concat(e?e.toLowerCase():"")}(n.formName),a=function(e){return e.map((function(e){return""}))}(t),o=$(t),s=P(o);return e.jsx("div",{className:i,children:e.jsx(B,r({},n,{fields:o,initialErrorMessages:a,initialValuesState:s}))})},exports.validations=R;
//# sourceMappingURL=index.js.map
